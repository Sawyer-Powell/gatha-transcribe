# Critical Rules

## Version Control: jj (Jujutsu)
- We use **jj**, not git commands
- See CLAUDE.md → "Version Control with jj" for full workflow
- Key: `jj describe -m` → `jj bookmark set main -r @` → `jj git push`

## Issue Tracking: beads
- Track multi-session work, dependencies, discovered tasks
- See CLAUDE.md → "Bead Workflow" for 8-step process
- Close beads when complete and verified by human: `bd close <id1> <id2> ...`
- Sync before push: `bd sync --from-main`

## Code Style
- See CLAUDE.md → "Code Style Guide" for full details
- NO emojis in code (comments, logs, errors, UI)
- Test invariants, not implementation details
- Prefer editing existing files over creating new ones

## Session Close Checklist
**Before saying "done":**
1. Close completed beads: `bd close <id1> <id2> ...`
2. `bd sync --from-main` (pull latest beads)
3. `jj describe -m "message\n\nResolves: <bead-id>"`
4. `jj bookmark set main -r @`
5. `jj git push`

Work is NOT complete until `jj git push` succeeds.
