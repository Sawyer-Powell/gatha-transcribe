{"id":"gatha-transcribe-2iv","title":"Implement full E2E Playwright testing infrastructure","description":"Make the entire system programmable and testable end-to-end with Playwright.\n\n## Goals\n- Full E2E test coverage for critical user flows\n- Automated verification of system invariants through browser testing\n- Programmable interface for testing all features\n- Foundation for testing transcription features\n\n## Key Requirements\n\n### 1. Infrastructure Setup\n- Install and configure Playwright for the project\n- Set up test environment (dev server + backend)\n- Configure test database isolation\n- Create test helpers and utilities\n\n### 2. Core User Flows\n- **Authentication Flow**: Register → Login → Logout → Re-login\n- **Video Upload Flow**: Upload → Progress indication → Playback\n- **Protected Routes**: Redirect when not authenticated\n- **Session Persistence**: Login survives page refresh\n\n### 3. Test Architecture\n- Reusable fixtures for authenticated sessions\n- Database seeding/cleanup helpers\n- Video file fixtures for testing\n- Screenshot/video capture on failure\n\n### 4. CI Integration\n- Tests run in CI pipeline\n- Headless execution\n- Parallel test execution where possible\n- Clear failure reporting\n\n## Acceptance Criteria\n- All critical user flows have E2E tests\n- Tests are reliable (no flakiness)\n- Tests run quickly (\u003c 30s for full suite)\n- Easy to add new E2E tests for future features\n- Clear documentation on writing E2E tests\n\n## Future Use\n- This infrastructure will be essential for testing transcription features\n- Video playback synchronization with transcription blocks\n- Real-time transcription updates via WebSocket\n- Transcription chunk editing and retranscription","status":"open","priority":1,"issue_type":"epic","owner":"sawyerhpowell@gmail.com","created_at":"2026-01-12T19:59:41.170777-08:00","created_by":"Sawyer Powell","updated_at":"2026-01-12T19:59:41.170777-08:00"}
{"id":"gatha-transcribe-a6z","title":"Add automated tests for session persistence mechanism","description":"The session persistence mechanism currently lacks automated tests, which is a critical gap in our test coverage.\n\n## Required Tests\n\n### 1. Serialization Test\n- Verify that sessions serialize correctly to the database\n- Ensure all session fields are properly stored\n- Test that serialized data maintains integrity\n\n### 2. Reliability Test\n- Verify that sessions can be reliably retrieved after persistence\n- Test session lifecycle: create → persist → retrieve → validate\n- Ensure no data loss or corruption during the persistence cycle\n\n## Acceptance Criteria\n- At least one comprehensive test covering serialization to DB\n- At least one test verifying reliability of the persistence mechanism\n- Tests should use the existing test infrastructure (tests/common/mod.rs helpers)\n- All tests must pass consistently\n\n## Context\nSession persistence is a core security/functionality component. Without automated tests, we risk regressions that could affect authentication and user sessions.","status":"open","priority":0,"issue_type":"bug","owner":"sawyerhpowell@gmail.com","created_at":"2026-01-12T19:45:25.677078-08:00","created_by":"Sawyer Powell","updated_at":"2026-01-12T19:45:25.677078-08:00"}
{"id":"gatha-transcribe-bmd","title":"Implement automated video transcription with real-time streaming","description":"Implement a fully-featured automated transcription system for uploaded videos.\n\n## Key Requirements\n\n### 1. Initial Upload Flow\n- Videos support playback immediately after upload\n- Show 'Begin Transcribing' action button for untranscribed videos\n- Button kicks off transcription task\n\n### 2. Transcription Task Architecture\n- **Resumable**: Active progress saving during transcription\n- **Real-time sync**: Updates VideoSession object continuously via WebSocket\n- **Streaming updates**: Send messages when:\n  - New chunk transcription starts\n  - Chunk content is transcribed (stream text as it arrives)\n- **Frontend states**: Add 'transcribing' state to transcription blocks\n- **User editing**: Allow modification of completed chunks immediately after completion\n- **Stoppable**: Users can stop transcription mid-process\n\n### 3. Chunk Retranscription\n- Icon to left of play button on each transcription block\n- Confirmation modal before retranscribing\n- Uses same transcription pipeline\n\n### 4. Progress Indication\n- Show progress circle in sidebar during active transcription\n- May require Server-Sent Events (SSE) since current WebSocket is per-video\n\n## Technical Implementation\n\n### Audio Processing Pipeline\n1. **Silence Detection**: Use FFmpeg silence detection to identify non-speech regions\n2. **Chunking**: Break audio into 30s-1min chunks on silence boundaries (avoid mid-word splits)\n3. **Silence Removal**: Strip silence from chunks before transcription to reduce data transfer\n4. **Chunk Storage**: Store metadata about each chunk\n\n### Transcription Backend\n- **Trait-based design**: Create 'Transcriber' trait for swappable backends\n- **Initial implementation**: Local Whisper model (small/simple)\n- **Future**: Cloud-based model via same trait\n- **Streaming output**: Emit text as a stream, not full strings\n- **Real-time delivery**: Stream transcribed text to frontend transcription blocks\n\n## Development Approach\n- Start with backend implementation\n- Small, verifiable units of work (easy to review completely)\n- **Every unit requires automated tests**\n- Incremental, testable progress\n\n## Architecture Considerations\n- WebSocket per-video for transcription updates\n- Consider SSE for global progress indicators\n- VideoSession object as source of truth\n- Frontend/backend sync via existing real-time system","status":"open","priority":2,"issue_type":"epic","owner":"sawyerhpowell@gmail.com","created_at":"2026-01-12T19:42:56.886556-08:00","created_by":"Sawyer Powell","updated_at":"2026-01-12T19:42:56.886556-08:00"}
{"id":"gatha-transcribe-k47","title":"Add seek-to-timestamp and auto-play on transcription block play button","description":"When clicking the play button in a transcription block:\n1. Seek the video player to the timestamp associated with that transcription block\n2. If the video is currently paused, automatically start playing it\n\nThis allows users to jump directly to the part of the video where specific text was spoken.","status":"open","priority":2,"issue_type":"feature","owner":"sawyerhpowell@gmail.com","created_at":"2026-01-12T19:24:26.235724-08:00","created_by":"Sawyer Powell","updated_at":"2026-01-12T19:24:26.235724-08:00"}
